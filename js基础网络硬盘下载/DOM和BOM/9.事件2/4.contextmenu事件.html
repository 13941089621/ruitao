<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			div{
				width: 200px;
				height: 300px;
				background-color: red;
				position: absolute;
			}
			.ab{
				position: absolute;
				width: 200px;
				height: 100px;
				background-color: cornflowerblue;
				text-align: center;
				line-height: 100px;
				text-decoration: none;
				font-size: 30px;
				color: #ccc;
			}
		</style>
	</head>
	<body>
		
		
		<script type="text/javascript">
			var newDiv = document.createElement("div");
			var arrHref = ["https://www.baidu.com","https://www.163.com","https://http://weibo.com/"];
			var arrText = ["百度一下","网易邮箱","新浪微博"]
			
			//  contextmenu事件
			//  h5 新增的事件  
			//  通过点击鼠标的右键调出上下文菜单时触发
			//  此事件为冒泡事件 可以使用return false或者preventDefault 取消默认行为
			
			window.oncontextmenu = function(e){
				e = e || window.event;
				var x = e.clientX;
				var y = e.clientY;
				document.body.appendChild(newDiv);
				newDiv.style.left = x + "px";
				newDiv.style.top = y + "px";
				if (newDiv.children.length < 3) {
					for (var i = 0; i < arrText.length; i++) {
						var newA = document.createElement("a");
						newA.className = "ab"
						newA.style.left = "0px";
						newA.style.top = i * 100 + "px"
						newA.innerHTML = arrText[i];
						newA.href = arrHref[i];
						newDiv.appendChild(newA);
						newA.target = "_blank";
						newA.onmouseover = function(){
							this.style.backgroundColor = "red";
							this.style.color = "black";
						}
						newA.onmouseout = function(){
							this.style.backgroundColor = "";
							this.style.color = "";
						}
					}
				}
				
				window.onclick = function(e){
					if (e.which == 1 && document.body.lastChild == newDiv) {
						document.body.removeChild(newDiv);
					}
				}
				return false;
			}
		</script>
		
	</body>
</html>
